import{P as h,_ as n,q as ye,i as te,c as J,r as ge,o as be,u as Ae,a as _e,b as Q,C as Fe,v as Z,I as Re,x as De,y as Me,E as ke,m as Ee,z as $e,A as Le}from"./useConfigInject.HSKnNMqX.js";import{c as je,a as ze}from"./contains.SQkeJ0xF.js";import{o as xe,K as re}from"./KeyCode.S8dia2Uh.js";import{p as We}from"./pickAttrs.ABg5saZY.js";import{d as K,h as S,k as Ve,I as o,c3 as pe,c4 as he,T as Te,R as Ke,y as Pe,c6 as Ue,z as Xe,F as Ye,ce as se}from"./framework.FpOEJISx.js";import{_ as qe}from"./objectDestructuringEmpty.1PR54iw-.js";import{P as Ge}from"./PortalWrapper.FHKGZbeb.js";import{u as He}from"./Portal.3HvYVhRv.js";import{B as ce,c as Je}from"./index.vMHbGGvX.js";import{c as Qe}from"./styleChecker.UrA0N4LC.js";import{A as ue}from"./ActionButton.u6bwCjuZ.js";function oe(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:h.shape({x:Number,y:Number}).loose,title:h.any,footer:h.any,transitionName:String,maskTransitionName:String,animation:h.any,maskAnimation:h.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:h.any,maskProps:h.any,wrapProps:h.any,getContainer:h.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:h.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function fe(a,e,s){var r=e;return!r&&s&&(r="".concat(a,"-").concat(s)),r}var de=-1;function Ze(){return de+=1,de}function ve(a,e){var s=a["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof s!="number"){var t=a.document;s=t.documentElement[r],typeof s!="number"&&(s=t.body[r])}return s}function en(a){var e=a.getBoundingClientRect(),s={left:e.left,top:e.top},r=a.ownerDocument,t=r.defaultView||r.parentWindow;return s.left+=ve(t),s.top+=ve(t,!0),s}var me={width:0,height:0,overflow:"hidden",outline:"none"};const nn=K({compatConfig:{MODE:3},name:"Content",inheritAttrs:!1,props:n(n({},oe()),{},{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,s){var r=s.expose,t=s.slots,C=s.attrs,m=S(),x=S(),y=S();r({focus:function(){var i;(i=m.value)===null||i===void 0||i.focus()},changeActive:function(i){var g=document,T=g.activeElement;i&&T===x.value?m.value.focus():!i&&T===m.value&&x.value.focus()}});var p=S(),d=Ve(function(){var c=e.width,i=e.height,g={};return c!==void 0&&(g.width=typeof c=="number"?"".concat(c,"px"):c),i!==void 0&&(g.height=typeof i=="number"?"".concat(i,"px"):i),p.value&&(g.transformOrigin=p.value),g}),u=function(){Ke(function(){if(y.value){var i=en(y.value);p.value=e.mousePosition?"".concat(e.mousePosition.x-i.left,"px ").concat(e.mousePosition.y-i.top,"px"):""}})},v=function(i){e.onVisibleChanged(i)};return function(){var c,i,g,T,b=e.prefixCls,l=e.footer,f=l===void 0?(c=t.footer)===null||c===void 0?void 0:c.call(t):l,k=e.title,N=k===void 0?(i=t.title)===null||i===void 0?void 0:i.call(t):k,P=e.ariaId,w=e.closable,I=e.closeIcon,B=I===void 0?(g=t.closeIcon)===null||g===void 0?void 0:g.call(t):I,A=e.onClose,R=e.bodyStyle,F=e.bodyProps,$=e.onMousedown,L=e.onMouseup,D=e.visible,j=e.modalRender,M=j===void 0?t.modalRender:j,U=e.destroyOnClose,X=e.motionName,z;f&&(z=o("div",{class:"".concat(b,"-footer")},[f]));var E;N&&(E=o("div",{class:"".concat(b,"-header")},[o("div",{class:"".concat(b,"-title"),id:P},[N])]));var G;w&&(G=o("button",{type:"button",onClick:A,"aria-label":"Close",class:"".concat(b,"-close")},[B||o("span",{class:"".concat(b,"-close-x")},null)]));var H=o("div",{class:"".concat(b,"-content")},[G,E,o("div",n({class:"".concat(b,"-body"),style:R},F),[(T=t.default)===null||T===void 0?void 0:T.call(t)]),z]),ee=ye(X);return o(Te,n(n({},ee),{},{onBeforeEnter:u,onAfterEnter:function(){return v(!0)},onAfterLeave:function(){return v(!1)}}),{default:function(){return[D||!U?pe(o("div",n(n({},C),{},{ref:y,key:"dialog-element",role:"document",style:[d.value,C.style],class:[b,C.class],onMousedown:$,onMouseup:L}),[o("div",{tabindex:0,ref:m,style:me,"aria-hidden":"true"},null),M?M({originVNode:H}):H,o("div",{tabindex:0,ref:x,style:me,"aria-hidden":"true"},null)]),[[he,D]]):null]}})}}}),tn=K({compatConfig:{MODE:3},name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,s){return qe(s),function(){var r=e.prefixCls,t=e.visible,C=e.maskProps,m=e.motionName,x=ye(m);return o(Te,x,{default:function(){return[pe(o("div",n({class:"".concat(r,"-mask")},C),null),[[he,t]])]}})}}}),Ce=K({compatConfig:{MODE:3},name:"Dialog",inheritAttrs:!1,props:te(n(n({},oe()),{},{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,s){var r=s.attrs,t=s.slots,C=S(),m=S(),x=S(),y=S(e.visible),p=S("vcDialogTitle".concat(Ze())),d=function(f){if(f){if(!je(m.value,document.activeElement)){var k;C.value=document.activeElement,(k=x.value)===null||k===void 0||k.focus()}}else{var N=y.value;if(y.value=!1,e.mask&&C.value&&e.focusTriggerAfterClose){try{C.value.focus({preventScroll:!0})}catch{}C.value=null}if(N){var P;(P=e.afterClose)===null||P===void 0||P.call(e)}}},u=function(f){var k;(k=e.onClose)===null||k===void 0||k.call(e,f)},v=S(!1),c=S(),i=function(){clearTimeout(c.value),v.value=!0},g=function(){c.value=setTimeout(function(){v.value=!1})},T=function(f){if(!e.maskClosable)return null;v.value?v.value=!1:m.value===f.target&&u(f)},b=function(f){if(e.keyboard&&f.keyCode===re.ESC){f.stopPropagation(),u(f);return}e.visible&&f.keyCode===re.TAB&&x.value.changeActive(!f.shiftKey)};return Pe(function(){return e.visible},function(){e.visible&&(y.value=!0)},{flush:"post"}),Ue(function(){var l;clearTimeout(c.value),(l=e.scrollLocker)===null||l===void 0||l.unLock()}),Xe(function(){var l;if((l=e.scrollLocker)===null||l===void 0||l.unLock(),y.value){var f;(f=e.scrollLocker)===null||f===void 0||f.lock()}}),function(){var l=e.prefixCls,f=e.mask,k=e.visible,N=e.maskTransitionName,P=e.maskAnimation,w=e.zIndex,I=e.wrapClassName,B=e.rootClassName,A=e.wrapStyle,R=e.closable,F=e.maskProps,$=e.maskStyle,L=e.transitionName,D=e.animation,j=e.wrapProps,M=e.title,U=M===void 0?t.title:M,X=r.style,z=r.class;return o("div",n({class:["".concat(l,"-root"),B]},We(e,{data:!0})),[o(tn,{prefixCls:l,visible:f&&k,motionName:fe(l,N,P),style:n({zIndex:w},$),maskProps:F},null),o("div",n({tabIndex:-1,onKeydown:b,class:J("".concat(l,"-wrap"),I),ref:m,onClick:T,role:"dialog","aria-labelledby":U?p.value:null,style:n(n({zIndex:w},A),{},{display:y.value?null:"none"})},j),[o(nn,n(n({},xe(e,["scrollLocker"])),{},{style:X,class:z,onMousedown:i,onMouseup:g,ref:x,closable:R,ariaId:p.value,prefixCls:l,visible:k,onClose:u,onVisibleChanged:d,motionName:fe(l,L,D)}),t)])])}}});var on=oe(),an=K({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:te(on,{visible:!1}),setup:function(e,s){var r=s.attrs,t=s.slots,C=S(e.visible);return He({},{inTriggerContext:!1}),Pe(function(){return e.visible},function(){e.visible&&(C.value=!0)},{flush:"post"}),function(){var m=e.visible,x=e.getContainer,y=e.forceRender,p=e.destroyOnClose,d=p===void 0?!1:p,u=e.afterClose,v=n(n(n({},e),r),{},{ref:"_component",key:"dialog"});return x===!1?o(Ce,n(n({},v),{},{getOpenCount:function(){return 2}}),t):!y&&d&&!C.value?null:o(Ge,{visible:m,forceRender:y,getContainer:x},{default:function(i){return v=n(n(n({},v),i),{},{afterClose:function(){u==null||u(),C.value=!1}}),o(Ce,v,t)}})}}});const ln=an;var rn=["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"],ne=null,sn=function(e){ne={x:e.pageX,y:e.pageY},setTimeout(function(){return ne=null},100)};Qe()&&ze(document.documentElement,"click",sn,!0);var cn=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:h.any,closable:{type:Boolean,default:void 0},closeIcon:h.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:h.any,okText:h.any,okType:String,cancelText:h.any,icon:h.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},V=[];const O=K({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:te(cn(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,s){var r=s.emit,t=s.slots,C=s.attrs,m=ge("Modal"),x=be(m,1),y=x[0],p=Ae("modal",e),d=p.prefixCls,u=p.rootPrefixCls,v=p.direction,c=p.getPopupContainer,i=function(l){r("update:visible",!1),r("cancel",l),r("change",!1)},g=function(l){r("ok",l)},T=function(){var l,f,k=e.okText,N=k===void 0?(l=t.okText)===null||l===void 0?void 0:l.call(t):k,P=e.okType,w=e.cancelText,I=w===void 0?(f=t.cancelText)===null||f===void 0?void 0:f.call(t):w,B=e.confirmLoading;return o(Ye,null,[o(ce,n({onClick:i},e.cancelButtonProps),{default:function(){return[I||y.value.cancelText]}}),o(ce,n(n({},Je(P)),{},{loading:B,onClick:g},e.okButtonProps),{default:function(){return[N||y.value.okText]}})])};return function(){var b,l;e.prefixCls;var f=e.visible,k=e.wrapClassName,N=e.centered,P=e.getContainer,w=e.closeIcon,I=w===void 0?(b=t.closeIcon)===null||b===void 0?void 0:b.call(t):w,B=e.focusTriggerAfterClose,A=B===void 0?!0:B,R=_e(e,rn),F=J(k,(l={},Q(l,"".concat(d.value,"-centered"),!!N),Q(l,"".concat(d.value,"-wrap-rtl"),v.value==="rtl"),l));return o(ln,n(n(n({},R),C),{},{getContainer:P||c.value,prefixCls:d.value,wrapClassName:F,visible:f,mousePosition:ne,onClose:i,focusTriggerAfterClose:A,transitionName:Z(u.value,"zoom",e.transitionName),maskTransitionName:Z(u.value,"fade",e.maskTransitionName)}),n(n({},t),{},{footer:t.footer||T,closeIcon:function(){return o("span",{class:"".concat(d.value,"-close-x")},[I||o(Fe,{class:"".concat(d.value,"-close-icon")},null)])}}))}}});function Y(a){return typeof a=="function"?a():a}const un=K({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,s){var r=s.attrs,t=ge("Modal"),C=be(t,1),m=C[0];return function(){var x=e.icon,y=e.onCancel,p=e.onOk,d=e.close,u=e.closable,v=u===void 0?!1:u,c=e.zIndex,i=e.afterClose,g=e.visible,T=e.keyboard,b=e.centered,l=e.getContainer,f=e.maskStyle,k=e.okButtonProps,N=e.cancelButtonProps,P=e.okCancel,w=P===void 0?!0:P,I=e.width,B=I===void 0?416:I,A=e.mask,R=A===void 0?!0:A,F=e.maskClosable,$=F===void 0?!1:F,L=e.type,D=e.title,j=e.content,M=e.direction,U=e.closeIcon,X=e.modalRender,z=e.focusTriggerAfterClose,E=e.rootPrefixCls,G=e.bodyStyle,H=e.wrapClassName,ee=e.okType||"primary",W=e.prefixCls||"ant-modal",_="".concat(W,"-confirm"),Ne=r.style||{},Se=Y(e.okText)||(w?m.value.okText:m.value.justOkText),Ie=Y(e.cancelText)||m.value.cancelText,ae=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",Oe=J(_,"".concat(_,"-").concat(L),"".concat(W,"-").concat(L),Q({},"".concat(_,"-rtl"),M==="rtl"),r.class),Be=w&&o(ue,{actionFn:y,close:d,autofocus:ae==="cancel",buttonProps:N,prefixCls:"".concat(E,"-btn")},{default:function(){return[Ie]}});return o(O,{prefixCls:W,class:Oe,wrapClassName:J(Q({},"".concat(_,"-centered"),!!b),H),onCancel:function(ie){return d({triggerCancel:!0},ie)},visible:g,title:"",footer:"",transitionName:Z(E,"zoom",e.transitionName),maskTransitionName:Z(E,"fade",e.maskTransitionName),mask:R,maskClosable:$,maskStyle:f,style:Ne,bodyStyle:G,width:B,zIndex:c,afterClose:i,keyboard:T,centered:b,getContainer:l,closable:v,closeIcon:U,modalRender:X,focusTriggerAfterClose:z},{default:function(){return[o("div",{class:"".concat(_,"-body-wrapper")},[o("div",{class:"".concat(_,"-body")},[Y(x),D===void 0?null:o("span",{class:"".concat(_,"-title")},[Y(D)]),o("div",{class:"".concat(_,"-content")},[Y(j)])]),o("div",{class:"".concat(_,"-btns")},[Be,o(ue,{type:ee,actionFn:p,close:d,autofocus:ae==="ok",buttonProps:k,prefixCls:"".concat(E,"-btn")},{default:function(){return[Se]}})])])]}})}}});var q=function(e){var s=document.createDocumentFragment(),r=n(n({},xe(e,["parentContext","appContext"])),{},{close:m,visible:!0}),t=null;function C(){t&&(se(null,s),t.component.update(),t=null);for(var d=arguments.length,u=new Array(d),v=0;v<d;v++)u[v]=arguments[v];var c=u.some(function(T){return T&&T.triggerCancel});e.onCancel&&c&&e.onCancel.apply(e,u);for(var i=0;i<V.length;i++){var g=V[i];if(g===m){V.splice(i,1);break}}}function m(){for(var d=this,u=arguments.length,v=new Array(u),c=0;c<u;c++)v[c]=arguments[c];r=n(n({},r),{},{visible:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),C.apply(d,v)}}),x(r)}function x(d){typeof d=="function"?r=d(r):r=n(n({},r),d),t&&(Ee(t.component.props,r),t.component.update())}var y=function(u){var v=Le,c=v.prefixCls,i=u.prefixCls||"".concat(c,"-modal");return o($e,n(n({},v),{},{notUpdateGlobalConfig:!0,prefixCls:c}),{default:function(){return[o(un,n(n({},u),{},{rootPrefixCls:c,prefixCls:i}),null)]}})};function p(d){var u=o(y,n({},d));return u.appContext=e.parentContext||e.appContext||u.appContext,se(u,s),u}return t=p(r),V.push(m),{destroy:m,update:x}};function fn(a){return n(n({icon:function(){return o(ke,null,null)},okCancel:!1},a),{},{type:"warning"})}function dn(a){return n(n({icon:function(){return o(Re,null,null)},okCancel:!1},a),{},{type:"info"})}function vn(a){return n(n({icon:function(){return o(De,null,null)},okCancel:!1},a),{},{type:"success"})}function mn(a){return n(n({icon:function(){return o(Me,null,null)},okCancel:!1},a),{},{type:"error"})}function Cn(a){return n(n({icon:function(){return o(ke,null,null)},okCancel:!0},a),{},{type:"confirm"})}function we(a){return q(fn(a))}O.info=function(e){return q(dn(e))};O.success=function(e){return q(vn(e))};O.error=function(e){return q(mn(e))};O.warning=we;O.warn=we;O.confirm=function(e){return q(Cn(e))};O.destroyAll=function(){for(;V.length;){var e=V.pop();e&&e()}};O.install=function(a){return a.component(O.name,O),a};export{O as M};
