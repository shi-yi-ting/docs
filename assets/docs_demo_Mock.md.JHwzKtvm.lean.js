import{M as D}from"./chunks/markDownBox.am9sQI3a.js";import{d as M,c5 as b,o as _,c as I,I as n,w as o,a as f,p as e,m as t,b as z,a1 as E,e as P,t as A,l as K,h as N,F as J,E as R}from"./chunks/framework.FpOEJISx.js";import{a as B}from"./chunks/axios.AkAIBCGB.js";import{B as $}from"./chunks/index.uGl-01Ch.js";import{T as F,S as j,P as V,a as O}from"./chunks/index.rKd5xt4T.js";import{e as U}from"./chunks/useConfigInject.EE0UmG98.js";import{I as W}from"./chunks/index.GMOV0Yq2.js";import"./chunks/jquery.xd2zrwf8.js";import"./chunks/theme.BhQF1MTw.js";import"./chunks/index.ERlbWiWK.js";import"./chunks/Trigger.QQxzGiSs.js";import"./chunks/contains.Xo8Erpdn.js";import"./chunks/vnode.JAVjTnbO.js";import"./chunks/isEqual.L5aOBdXd.js";import"./chunks/isArray.ZyNFv1vC.js";import"./chunks/isObject.u1V2KUQz.js";import"./chunks/overArg.clypzKbc.js";import"./chunks/Portal.1fgz_vF8.js";import"./chunks/colors._OE4QAE3.js";import"./chunks/index.klcFR2Ql.js";import"./chunks/KeyCode.JfLR25He.js";import"./chunks/FormItemContext.pHFsNRUI.js";import"./chunks/index.Wgg-PeWO.js";import"./chunks/pickAttrs.XY8JcjML.js";import"./chunks/Overflow.mfDX5I4e.js";import"./chunks/omit.tydo68F1.js";import"./chunks/ActionButton.khHcOpTc.js";import"./chunks/useFlexGapSupport.D2vPbA1J.js";import"./chunks/styleChecker.joRX2Kc6.js";import"./chunks/index.6jaiRB3I.js";import"./chunks/objectDestructuringEmpty.1PR54iw-.js";import"./chunks/collapseMotion.Cczcee-l.js";import"./chunks/debounce.7vty6ZOk.js";import"./chunks/getScrollBarSize.KoyaLeRI.js";import"./chunks/fromPairs.E3iD47Fd.js";import"./chunks/createForOfIteratorHelper.WC-sdPLC.js";import"./chunks/index.DyU_3HDh.js";import"./chunks/shallowequal.vPEsyLKn.js";import"./chunks/arrayIncludesWith.zi7SfS7v.js";import"./chunks/baseFindIndex.CG3ccTGJ.js";import"./chunks/index._Y40OLZn.js";import"./chunks/isPlainObject.LbEOpjII.js";const w=B.create({baseURL:"",timeout:5e3});w.interceptors.request.use(l=>l,l=>Promise.reject(l));w.interceptors.response.use(l=>l,l=>Promise.reject(l));const G=()=>w.get("/mock/news"),H=l=>w.post("/mock/addProject",l),Q=()=>w.get("/mock/projects"),X=M({__name:"getData",setup(l){const p=b({spinning:!1});function h(){const x=b({pageIndex:1,pageSize:10}),i=b({loading:!1,total:0,list:[],selectKeys:[],columns:[{title:"序号",key:"index",dataIndex:"index",align:"center",width:"10%"},{title:"标题",key:"title",dataIndex:"title",align:"center",width:"25%"},{title:"创建时间",key:"createdTime",dataIndex:"createdTime",align:"center",width:"25%"},{title:"内容",key:"content",dataIndex:"content",align:"center",width:"25%"},{title:"操作",dataIndex:"opts",align:"center",key:"opts",width:"12%"}]}),C=async()=>{var r;try{i.loading=!0,i.total=0,i.list=[];const c=await G();console.log("getProjectsApi",c),c.status===200&&c.data&&c.data.length&&(i.list=c.data.map(T=>T),i.total=(r=c.data)==null?void 0:r.length),i.loading=!1}catch(c){console.error(c)}},g=r=>{i.selectKeys=r},a=r=>{x.pageIndex=r.current,x.pageSize=r.pageSize,C()},u=r=>{U.success("调用删除接口")};return K(()=>{}),{page:x,table:i,onSelectChange:g,pageChange:a,deleteItem:u,getTableList:C}}const{page:d,table:s,onSelectChange:v,pageChange:m,deleteItem:S,getTableList:L}=h();return(x,i)=>(_(),I("div",null,[n(e($),{type:"primary",style:{"margin-right":"15px","margin-top":"15px"},onClick:e(L)},{default:o(()=>[f("获取数据")]),_:1},8,["onClick"]),t("div",null,[n(e(O),{spinning:p.spinning,tip:"Loading..."},{default:o(()=>[n(e(F),{loading:e(s).loading,"data-source":e(s).list,columns:e(s).columns,bordered:!0,size:"small",rowKey:"id",style:{width:"100%",background:"border-box"},rowSelection:{onChange:e(v)},pagination:{current:e(d).pageIndex,pageSize:e(d).pageSize,total:e(s).total},onChange:e(m)},{bodyCell:o(({record:C,column:g,index:a})=>[g.dataIndex==="opts"?(_(),z(e(j),{key:0},{default:o(()=>[n(e(V),{onConfirm:u=>e(S)(C.id),title:"确定删除?",okText:"删除"},{default:o(()=>[n(e($),{size:"small",danger:"",onClick:i[0]||(i[0]=E(()=>{},["stop"]))},{default:o(()=>[f("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)):P("",!0),g.dataIndex==="index"?(_(),z(e(j),{key:1},{default:o(()=>[f(A((e(d).pageIndex-1)*e(d).pageSize+Number(a)+1),1)]),_:2},1024)):P("",!0)]),_:1},8,["loading","data-source","columns","rowSelection","pagination","onChange"])]),_:1},8,["spinning"])])]))}}),Y={style:{"margin-right":"15px"}},Z=t("label",{for:"",style:{"margin-right":"5px"}},"标题: ",-1),ee={style:{"margin-left":"15px"}},te=t("label",{for:"",style:{"margin-right":"5px"}},"内容: ",-1),ae=M({__name:"addData",setup(l){const p=b({spinning:!1});function h(){const g=b({pageIndex:1,pageSize:10}),a=b({loading:!1,total:0,list:[],selectKeys:[],columns:[{title:"序号",key:"index",dataIndex:"index",align:"center",width:"10%"},{title:"标题",key:"title",dataIndex:"title",align:"center",width:"25%"},{title:"创建时间",key:"createdTime",dataIndex:"createdTime",align:"center",width:"25%"},{title:"内容",key:"content",dataIndex:"content",align:"center",width:"25%"},{title:"操作",dataIndex:"opts",align:"center",key:"opts",width:"12%"}]}),u=async()=>{var y;try{a.loading=!0,a.total=0,a.list=[];const k=await Q();console.log("getProjectsApi",k),k.status===200&&k.data&&k.data.length&&(a.list=k.data.map(q=>q),a.total=(y=k.data)==null?void 0:y.length),a.loading=!1}catch(k){console.error(k)}},r=y=>{a.selectKeys=y},c=y=>{g.pageIndex=y.current,g.pageSize=y.pageSize,u()},T=y=>{U.success("调用删除接口")};return K(()=>{}),{page:g,table:a,onSelectChange:r,pageChange:c,deleteItem:T,getTableList:u}}const{page:d,table:s,onSelectChange:v,pageChange:m,deleteItem:S,getTableList:L}=h(),x=N(""),i=N(""),C=async()=>{let g={title:x.value,content:i.value};const a=await H(g);console.log("addProjectApi",a),L()};return(g,a)=>(_(),I("div",null,[t("span",Y,[t("span",null,[Z,n(e(W),{value:x.value,"onUpdate:value":a[0]||(a[0]=u=>x.value=u),type:"text",style:{"margin-top":"15px",width:"100px"}},null,8,["value"])]),t("span",ee,[te,n(e(W),{value:i.value,"onUpdate:value":a[1]||(a[1]=u=>i.value=u),type:"text",style:{"margin-top":"15px",width:"160px"}},null,8,["value"])])]),n(e($),{type:"primary",style:{"margin-right":"15px"},onClick:C},{default:o(()=>[f("提交")]),_:1}),t("div",null,[n(e(O),{spinning:p.spinning,tip:"Loading..."},{default:o(()=>[n(e(F),{loading:e(s).loading,"data-source":e(s).list,columns:e(s).columns,bordered:!0,size:"small",rowKey:"id",style:{width:"100%",background:"border-box"},rowSelection:{onChange:e(v)},pagination:{current:e(d).pageIndex,pageSize:e(d).pageSize,total:e(s).total},onChange:e(m)},{bodyCell:o(({record:u,column:r,index:c})=>[r.dataIndex==="opts"?(_(),z(e(j),{key:0},{default:o(()=>[n(e(V),{onConfirm:T=>e(S)(u.id),title:"确定删除?",okText:"删除"},{default:o(()=>[n(e($),{size:"small",danger:"",onClick:a[2]||(a[2]=E(()=>{},["stop"]))},{default:o(()=>[f("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)):P("",!0),r.dataIndex==="index"?(_(),z(e(j),{key:1},{default:o(()=>[f(A((e(d).pageIndex-1)*e(d).pageSize+Number(c)+1),1)]),_:2},1024)):P("",!0)]),_:1},8,["loading","data-source","columns","rowSelection","pagination","onChange"])]),_:1},8,["spinning"])])]))}}),ne={id:"app"},oe=t("span",{style:{color:"red",cursor:"pointer"}},"删除",-1),ie=M({__name:"deleteData",setup(l){const p=b({list:[]}),h=()=>{B.get("/list").then(s=>{p.list=s.data.data})};K(()=>{h()});const d=s=>{let v=s.id;B.post("/list",{params:{id:v}}).then(m=>{p.list=m.data.data,U.success("删除成功!")}).catch(m=>{console.log(m)})};return(s,v)=>(_(),I("div",ne,[t("ul",null,[(_(!0),I(J,null,R(p.list,m=>(_(),I("li",{key:m.id},[t("span",null,A(m.content),1),n(e(V),{title:"确定删除?",okText:"删除",cancelText:"取消",onConfirm:S=>d(m)},{default:o(()=>[oe]),_:2},1032,["onConfirm"])]))),128))])]))}}),se=t("h2",{id:"获取数据",tabindex:"-1"},[f("获取数据 "),t("a",{class:"header-anchor",href:"#获取数据","aria-label":'Permalink to "获取数据"'},"​")],-1),le={class:"common_container"},re={class:"codeWrap"},de=t("div",null,"mock数据",-1),ce=t("h2",{id:"新增数据",tabindex:"-1"},[f("新增数据 "),t("a",{class:"header-anchor",href:"#新增数据","aria-label":'Permalink to "新增数据"'},"​")],-1),pe={class:"common_container"},me={class:"codeWrap"},ge=t("div",null,"mock数据",-1),ue=t("h2",{id:"删除数据",tabindex:"-1"},[f("删除数据 "),t("a",{class:"header-anchor",href:"#删除数据","aria-label":'Permalink to "删除数据"'},"​")],-1),_e={class:"common_container"},he={class:"codeWrap"},fe=t("div",null,"mock数据",-1),lt=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/demo/Mock.md","filePath":"docs/demo/Mock.md"}'),xe={name:"docs/demo/Mock.md"},rt=Object.assign(xe,{setup(l){const p=N("/static/_file/md/demo/mock/");return(h,d)=>(_(),I("div",null,[se,t("div",le,[t("div",re,[n(D,{content:h.content,url:`${p.value}getData.md`},{default:o(()=>[t("div",null,[de,n(X)])]),_:1},8,["content","url"])])]),ce,t("div",pe,[t("div",me,[n(D,{content:h.content,url:`${p.value}addData.md`},{default:o(()=>[t("div",null,[ge,n(ae)])]),_:1},8,["content","url"])])]),ue,t("div",_e,[t("div",he,[n(D,{content:h.content,url:`${p.value}deleteData.md`},{default:o(()=>[t("div",null,[fe,n(ie)])]),_:1},8,["content","url"])])])]))}});export{lt as __pageData,rt as default};
